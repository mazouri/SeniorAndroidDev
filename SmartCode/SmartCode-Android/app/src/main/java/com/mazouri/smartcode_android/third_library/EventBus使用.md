# EventBus使用

## 添加依赖
```
compile 'org.greenrobot:eventbus:3.0.0'
```


## 事件总线

4个成分：发布者，订阅者，事件，总线

4者的关系：订阅者订阅事件到总线，发送者发布事件

订阅者可以订阅多个事件，发送者可以发布任何事件，发布者同时也可以是订阅者。

## 主要方法：
```
//3.0之前
EventBus.getDefault().register(this);//订阅事件

EventBus.getDefault().post(object);//发布事件

EventBus.getDefault().unregister(this);//取消订阅
```

```
// 3.0之后
事件处理的方法可以随便取名，但是需要添加一个注解@Subscribe，并且要指定线程模型（默认为POSTING），四种线程模型

POSTING（默认):发布事件和接收事件在同一个线程。尽量避免执行耗时操作，因为它会阻塞事件的传递，甚至有可能会引起ANR
MAIN:事件的处理会在UI线程中执行。事件处理时间不能太长，长了会ANR的。
BACKGROUND:如果事件是在UI线程中发布出来的，那么该事件处理函数就会在新的线程中运行，如果事件本来就是子线程中发布出来的，
        那么该事件处理函数直接在发布事件的线程中执行。在此事件处理函数中禁止进行UI更新操作。
ASYNC:无论事件在哪个线程发布，该事件处理函数都会在新建的子线程中执行，同样，此事件处理函数中禁止进行UI更新操作
```
